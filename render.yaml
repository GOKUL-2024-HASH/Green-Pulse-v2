services:
  - type: web
    name: greenpulse-dashboard
    env: static
    buildCommand: sh dashboard/build.sh
    staticPublishPath: dashboard/build
    routes:
      - type: rewrite
        source: /*
        destination: /index.html

  - type: web
    name: greenpulse-api
    env: docker
    dockerfilePath: Dockerfile.api
    healthCheckPath: /api/health

  - type: worker
    name: greenpulse-pipeline
    env: docker
    dockerfilePath: Dockerfile.pipeline
